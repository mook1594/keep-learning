### [GO TO BACK](../README.md)

## 컨테이너 기술 소개

### 1. 컨테이너 이해

#### 리눅스 컨테이너 기술로 구성 요소 격리
- 리눅스 컨테이너를 이용해 각 마이크로서비스의 환경을 격리
- 컨테이너에서 실행되는 프로세스는 호스트 운영체제 내에서 실행된다.

#### 컨테이너와 가상머신 비교
- 컨테이너는 훨씬 더 가볍다.
- 가상머신은 구성요소 프로세스뿐 아니라 시스템 프로세스를 실행해야하기 떄문에 추가 컴포터 리소스가 필요하다.
- 가상머신은 내부 OS에 대한 시스템 콜을 수행하면 하이퍼바이저가 호스트 OS(전체 Base)의 물리적 CPU에서 명령을 수행한다.
- 컨테이너는 호스트OS 실행되는 동일한 커널에서 시스템 콜을 수행한다.
- 가상머신은 자체 리눅스 커널을 실행하여 완전 격리되지만, 컨테이너는 모두 동일한 커널을 호출함으로 보안 위험이 발생할 수 있다.

#### 컨테이너 격리를 가능하게 하는 메커니즘 소개
- 리눅스 네임스페이스로 각 프로세스가 시스템(파일, 프로세스, 네트워크 인터페이스, 호스트 이름 등)에 독립된 뷰만 볼 수 있도록 한다.
- 리눅스 컨트롤 그룹(cgroups) 프로세스가 사용할 수 이쓴ㄴ 리소스 (CPU, 메모리, 네트워크 대역폭 등)의 양을 제한한다.

#### 리눅스 네임스페이스로 프로세스 격리
- 리눅스 시스템은 초기 구동시 하나의 네임스페이스가 있다. (파일시스템, 프로세스 ID, 사용자 ID, 네트워크 인터페이스 등)
- 모든 시스템 리소스는 하나의 네임스페이스에 속한다. 추가 네임스페이스를 생성하고 리소스를 구성할 수 있다.
- mnt, pid, net, ipc, uts, user

#### 프로세스의 가용 리소스 제한
- 컨테이너가 사용할 수 있는 시스템 리소스 양을 제한

### 2. 도커 컨테이너 플랫폼 소개
- 도커 컨테이너: 컨테이너를 여러 시스템에 쉽게 이식 가능하게 하는 최초의 컨테이너 시스템
- 운영체제 전체 파일과 함께 어플리케이션을 패키징하면 항상 같은 환경에서 동작하게 할 수 있다. (커널이 다를뿐)

#### 도커의 개념 이해
- 이미지: 어플리케이션과 환경을 패키지화 한 것
- 레지스트리: 도커 이미지를 저장하고 다른 사람이나 컴퓨터 간에 해당 이미지를 쉽게 공유할 수 있는 저장소
- 컨테이너: 도커 기반 컨테이너 이미지에서 생성된 일반적인 리눅스 컨테이너.

#### 이미지 레이어의 이해
- 동일한 레이어가 포함되고, 배포를 효율적으로 할 수 있다.

#### 컨테이너 이미지의 제한적인 이식성 이해
- 특정 커널버전이 필요하다면 모든 시스템에 영향을 준다

### 3. 도커의 대안 rkt
- 도커 자체는 프로세스 격리를 제공하지 않는다. 이는 리눅스 네임스페이스와 cgroup과 같은 커널 기능으로 리눅스 커널 수준에서 수행된다.
- 쿠버네티스는 rkt 런타임도 지원한다.  
